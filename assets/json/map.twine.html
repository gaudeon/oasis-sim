<html><head><title>Ready Player Two</title><style>
			body {
				font-family: sans-serif;
				padding: 50px;
				background-color: #eee8d5;
				color: #586e75;
			}

			h1, h2 {
				color: #073642;
			}

			textarea {
				background-color: #eaeaea;
				width:50%;
				min-height: 200px;
				border-radius: 5px;
				overflow-y: auto;
			}

			textarea {
				height: 1px;
				display: block;
				width:1px;
				position:absolute;
				left:999px;
			}

			main.wrapper {
				margin: auto;
				display: block;
				max-width: 1200px;
			}

			pre {
				outline: 1px solid #ccc; 
				padding: 5px; 
				margin: 5px; 
				height: 50%;
				min-height: 200px;
				white-space: pre-wrap;       /* Since CSS 2.1 */
				white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
				white-space: -pre-wrap;      /* Opera 4-6 */
				white-space: -o-pre-wrap;    /* Opera 7 */
				word-wrap: break-word;       /* Internet Explorer 5.5+ */
				overflow-y:scroll;
				color: #657b83;
				font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
				text-align: left;
				line-height: 1.5;
				background-color: #002b37;
				font-size:11px;
		  }

			.string { color: #2aa198; }
			.number { color: #cb4b16; }
			.boolean { color: #6c71c4; }
			.null { color: #b58900; }
			.key { color: #859900; }


			.invalid {
				max-height: 100px;
			}
		</style><script src=http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js></script><script type=text/javascript>/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.2.0 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/requirejs/LICENSE
 */

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */

/*!
 * TwineJson
 *
 * Based on Entweedle by Michael McCollum
 * Copyright(c) 2015 Páprica Comunicação http://papricacomunicacao.com.br
 * Copyright(c) 2015-2016 Cauli Tomaz https://cau.li
 * MIT Licensed
 *
 * https://github.com/cauli/TwineJson
 */

/*!
* TwineJson
*
* Based on Entweedle by Michael McCollum
* Copyright(c) 2015 Páprica Comunicação http://papricacomunicacao.com.br
* Copyright(c) 2015-2016 Cauli Tomaz https://cau.li
* MIT Licensed
*
* https://github.com/cauli/TwineJson
*/

/*!
* TwineJson
*
* Based on Entweedle by Michael McCollum
* Copyright(c) 2015 Páprica Comunicação http://papricacomunicacao.com.br
* Copyright(c) 2015-2016 Cauli Tomaz https://cau.li
* MIT Licensed
*
* https://github.com/cauli/TwineJson
*/

var requirejs,require,define;!function(global){function commentReplace(e,t,r,n){return n||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var r;for(r=0;r<e.length&&(!e[r]||!t(e[r],r,e));r+=1);}}function eachReverse(e,t){if(e){var r;for(r=e.length-1;r>-1&&(!e[r]||!t(e[r],r,e));r-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var r;for(r in e)if(hasProp(e,r)&&t(e[r],r))break}function mixin(e,t,r,n){return t&&eachProp(t,function(t,i){(r||!hasProp(e,i))&&(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,r,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,r,n){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=n,r&&(i.originalError=r),i}function newContext(e){function t(e){var t,r;for(t=0;t<e.length;t++)if(r=e[t],"."===r)e.splice(t,1),t-=1;else if(".."===r){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function r(e,r,n){var i,a,o,s,u,c,d,p,l,f,h,m,g=r&&r.split("/"),v=S.map,b=v&&v["*"];if(e&&(e=e.split("/"),d=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[d])&&(e[d]=e[d].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),t(e),e=e.join("/")),n&&v&&(g||b)){o=e.split("/");e:for(s=o.length;s>0;s-=1){if(c=o.slice(0,s).join("/"),g)for(u=g.length;u>0;u-=1)if(a=getOwn(v,g.slice(0,u).join("/")),a&&(a=getOwn(a,c))){p=a,l=s;break e}!f&&b&&getOwn(b,c)&&(f=getOwn(b,c),h=s)}!p&&f&&(p=f,l=h),p&&(o.splice(0,l,p),e=o.join("/"))}return i=getOwn(S.pkgs,e),i?i:e}function n(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===y.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(S.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),y.require.undef(e),y.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function a(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function o(e,t,n,i){var o,s,u,c,d=null,p=t?t.name:null,l=e,f=!0,h="";return e||(f=!1,e="_@r"+(N+=1)),c=a(e),d=c[0],e=c[1],d&&(d=r(d,p,i),s=getOwn(A,d)),e&&(d?h=s&&s.normalize?s.normalize(e,function(e){return r(e,p,i)}):-1===e.indexOf("!")?r(e,p,i):e:(h=r(e,p,i),c=a(h),d=c[0],h=c[1],n=!0,o=y.nameToUrl(h))),u=!d||s||n?"":"_unnormalized"+(R+=1),{prefix:d,name:h,parentMap:t,unnormalized:!!u,url:o,originalName:l,isDefine:f,id:(d?d+"!"+h:h)+u}}function s(e){var t=e.id,r=getOwn(q,t);return r||(r=q[t]=new y.Module(e)),r}function u(e,t,r){var n=e.id,i=getOwn(q,n);!hasProp(A,n)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?r(i.error):i.on(t,r)):"defined"===t&&r(A[n])}function c(e,t){var r=e.requireModules,n=!1;t?t(e):(each(r,function(t){var r=getOwn(q,t);r&&(r.error=e,r.events.error&&(n=!0,r.emit("error",e)))}),n||req.onError(e))}function d(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(y.defQueueMap[t]=!0),M.push(e)}),globalDefQueue=[])}function p(e){delete q[e],delete O[e]}function l(e,t,r){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,function(n,i){var a=n.id,o=getOwn(q,a);!o||e.depMatched[i]||r[a]||(getOwn(t,a)?(e.defineDep(i,A[a]),e.check()):l(o,t,r))}),r[n]=!0)}function f(){var e,t,r=1e3*S.waitSeconds,a=r&&y.startTime+r<(new Date).getTime(),o=[],s=[],u=!1,d=!0;if(!b){if(b=!0,eachProp(O,function(e){var r=e.map,c=r.id;if(e.enabled&&(r.isDefine||s.push(e),!e.error))if(!e.inited&&a)i(c)?(t=!0,u=!0):(o.push(c),n(c));else if(!e.inited&&e.fetched&&r.isDefine&&(u=!0,!r.prefix))return d=!1}),a&&o.length)return e=makeError("timeout","Load timeout for modules: "+o,null,o),e.contextName=y.contextName,c(e);d&&each(s,function(e){l(e,{},{})}),a&&!t||!u||!isBrowser&&!isWebWorker||E||(E=setTimeout(function(){E=0,f()},50)),b=!1}}function h(e){hasProp(A,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,r,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(r,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,y.onScriptLoad,"load","onreadystatechange"),m(t,y.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(d();M.length;){if(e=M.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}y.defQueueMap={}}var b,x,y,w,E,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},q={},O={},k={},M=[],A={},j={},P={},N=1,R=1;return w={require:function(e){return e.require?e.require:e.require=y.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?A[e.map.id]=e.exports:e.exports=A[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},x=function(e){this.events=getOwn(k,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},x.prototype={init:function(e,t,r,n){n=n||{},this.inited||(this.factory=t,r?this.on("error",r):this.events.error&&(r=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=r,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,y.startTime=(new Date).getTime();var e=this.map;return this.shim?void y.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;j[e]||(j[e]=!0,y.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,r=this.map.id,n=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=y.execCb(r,a,n,i)}catch(o){e=o}else i=y.execCb(r,a,n,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=a;if(this.exports=i,this.map.isDefine&&!this.ignore&&(A[r]=i,req.onResourceLoad)){var s=[];each(this.depMaps,function(e){s.push(e.normalizedMap||e)}),req.onResourceLoad(y,this.map,s)}p(r),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(y.defQueueMap,r)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=o(e.prefix);this.depMaps.push(n),u(n,"defined",bind(this,function(n){var i,a,d,l=getOwn(P,this.map.id),f=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=y.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(f=n.normalize(f,function(e){return r(e,h,!0)})||""),a=o(e.prefix+"!"+f,this.map.parentMap),u(a,"defined",bind(this,function(e){this.map.normalizedMap=a,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),d=getOwn(q,a.id),void(d&&(this.depMaps.push(a),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):l?(this.map.url=y.nameToUrl(l),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(q,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),c(e)}),i.fromText=bind(this,function(r,n){var a=e.name,u=o(a),d=useInteractive;n&&(r=n),d&&(useInteractive=!1),s(u),hasProp(S.config,t)&&(S.config[a]=S.config[t]);try{req.exec(r)}catch(p){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+p,p,[t]))}d&&(useInteractive=!0),this.depMaps.push(u),y.completeLoad(a),m([a],i)}),void n.load(e.name,m,i,S))})),y.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){O[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var r,n,i;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(w,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}r=e.id,n=q[r],hasProp(w,r)||!n||n.enabled||y.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(q,e.id);t&&!t.enabled&&y.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var r=this.events[e];r||(r=this.events[e]=[]),r.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},y={config:S,contextName:e,registry:q,defined:A,urlFetched:j,defQueue:M,defQueueMap:{},Module:x,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,r){return(-1===r.indexOf("?")?"?":"&")+t}}var r=S.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(P[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=y.makeShimExports(e)),r[t]=e}),S.shim=r),e.packages&&each(e.packages,function(e){var t,r;e="string"==typeof e?{name:e}:e,r=e.name,t=e.location,t&&(S.paths[r]=e.location),S.pkgs[r]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(q,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t,null,!0))}),(e.deps||e.callback)&&y.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function a(r,n,u){var d,p,l;return i.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof r?isFunction(n)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(w,r)?w[r](q[t.id]):req.get?req.get(y,r,t,a):(p=o(r,t,!1,!0),d=p.id,hasProp(A,d)?A[d]:c(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),y.nextTick(function(){v(),l=s(o(null,t)),l.skipMap=i.skipMap,l.init(r,n,u,{enabled:!0}),f()}),a)}return i=i||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),a=e.split("/")[0],o="."===a||".."===a;return-1!==i&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),y.nameToUrl(r(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(A,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(A,e)||hasProp(q,e)}}),t||(a.undef=function(e){d();var r=o(e,t,!0),i=getOwn(q,e);i.undefed=!0,n(e),delete A[e],delete j[r.url],delete k[e],eachReverse(M,function(t,r){t[0]===e&&M.splice(r,1)}),delete y.defQueueMap[e],i&&(i.events.defined&&(k[e]=i.events),p(e))}),a},enable:function(e){var t=getOwn(q,e.id);t&&s(e).enable()},completeLoad:function(e){var t,r,n,a=getOwn(S.shim,e)||{},o=a.exports;for(d();M.length;){if(r=M.shift(),null===r[0]){if(r[0]=e,t)break;t=!0}else r[0]===e&&(t=!0);h(r)}if(y.defQueueMap={},n=getOwn(q,e),!t&&!hasProp(A,e)&&n&&!n.inited){if(!(!S.enforceDefine||o&&getGlobal(o)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));h([e,a.deps||[],a.exportsFn])}f()},nameToUrl:function(e,t,r){var n,i,a,o,s,u,c,d=getOwn(S.pkgs,e);if(d&&(e=d),c=getOwn(P,e))return y.nameToUrl(c,t,r);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(n=S.paths,i=e.split("/"),a=i.length;a>0;a-=1)if(o=i.slice(0,a).join("/"),u=getOwn(n,o)){isArray(u)&&(u=u[0]),i.splice(0,a,u);break}s=i.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||r?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+s}return S.urlArgs&&!/^blob\:/.test(s)?s+S.urlArgs(e,s):s},load:function(e,t){req.load(y,e,t)},execCb:function(e,t,r,n){return t.apply(n,r)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);y.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!i(t.id)){var r=[];return eachProp(q,function(e,n){0!==n.indexOf("_@r")&&each(e.depMaps,function(e){return e.id===t.id?(r.push(n),!0):void 0})}),c(makeError("scripterror",'Script error for "'+t.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[t.id]))}}},y.require=y.makeRequire(),y}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.2.0",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,r,n){var i,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=r,r=n):e=[]),a&&a.context&&(o=a.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),a&&i.configure(a),i.require(e,t,r)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,r){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,r){var n,i=e&&e.config||{};if(isBrowser)return n=req.createNode(i,t,r),n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=r,i.onNodeCreated&&i.onNodeCreated(n,i,t,r),currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),e.completeLoad(t)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+r,a,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,r){var n,i;"string"!=typeof e&&(r=t,t=e,e=null),isArray(t)||(r=t,t=null),!t&&isFunction(r)&&(t=[],r.length&&(r.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,r){t.push(r)}),t=(1===r.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript(),n&&(e||(e=n.getAttribute("data-requiremodule")),i=contexts[n.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,r]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,r])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){});var saveAs=saveAs||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,r=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/constructor/i.test(e.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",d=4e4,p=function(e){var t=function(){"string"==typeof e?r().revokeObjectURL(e):e.remove()};setTimeout(t,d)},l=function(e,t,r){t=[].concat(t);for(var n=t.length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(a){u(a)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=function(t,u,d){d||(t=f(t));var h,m=this,g=t.type,v=g===c,b=function(){l(m,"writestart progress write writeend".split(" "))},x=function(){if((s||v&&o)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;"),r=e.open(t,"_blank");r||(e.location.href=t),t=void 0,m.readyState=m.DONE,b()},n.readAsDataURL(t),void(m.readyState=m.INIT)}if(h||(h=r().createObjectURL(t)),v)e.location.href=h;else{var i=e.open(h,"_blank");i||(e.location.href=h)}m.readyState=m.DONE,b(),p(h)};return m.readyState=m.INIT,i?(h=r().createObjectURL(t),void setTimeout(function(){n.href=h,n.download=u,a(n),b(),p(h),m.readyState=m.DONE})):void x()},m=h.prototype,g=function(e,t,r){return new h(e,t||e.name||"download",r)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver",[],function(){return saveAs}),define("app/options",[],function(){return{exportCustomProperties:!0,customPropertiesToIgnore:["pid","name","tags","content","childrenNames","children"],saveAsFile:!0}}),define("app/treebuilder",[],function(){return{realTitle:function(e){if(e=e.replace("[[",""),e=e.replace("]]",""),e.indexOf("|")>-1){var t=e.split("|");return t.splice(-1).toString()}if(e.indexOf("->")>-1){var t=e.split("->");return t.splice(-1).toString()}if(e.indexOf("<-")>-1){var t=e.split("<-");return t[0].toString()}return e.toString()},removeChildFromRoot:function(e){for(var t=e.length;t>=0;t--)"undefined"!=typeof e[t]&&"parentId"in e[t]&&e.splice(t,1);return e},build:function(e){for(var t=[],r=0;r<e.length;r++){e[r].children=[];var n=e[r].childrenNames;if(n.constructor===Array)for(var i=e[r].childrenNames,a=0;a<i.length;a++)for(var o=0;o<e.length;o++)this.realTitle(i[a])==e[o].name&&(e[o].parentId=parseInt(e[r].pid),e[r].children.push(e[o]));t.push(e[r])}return this.removeChildFromRoot(t)}}}),define("app/printer",[],function(){return{syntaxHighlight:function(e,t){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.html(e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}))}}}),define("app/util",[],function(){return{cleanArray:function(e){""==e[0]&&e.splice(0,1),""==e[e.length-1]&&e.splice(e.length-1,1);for(var t=e.length-1;t>=0;t--)e[t].match(/^[\r\n ]+$/)&&e.splice(t,1);return e}}}),define("app/converter",["./options","./util"],function(e,t){return{"export":function(e,t){for(var r=[],n=0;n<e.length;++n)r.push(this.buildPassageFromElement(e[n],n,e.length));var i="["+r.join(",")+"]";return JSON.parse(i)},buildPassageFromElement:function(e,t,r){var n=t+1===r,i=e.getAttribute("name");"undefined"==typeof i&&(i="Untitled Passage");var a=e.getAttribute("pid"),o=e.getAttribute("tags"),s=e.getAttribute("position"),u=e.textContent;return this.buildPassage(i,o,u,s,n,a)},buildPassage:function(t,r,n,i,a,o){var s={};s.pid=parseInt(o),"undefined"!=typeof i&&(i=i.split(","),s.position={x:parseInt(i[0]),y:parseInt(i[1])}),s.name=t,"undefined"!=typeof r&&(s.tags=r.split(","));var u=this.scrub(n," ");return s.content=u,s.childrenNames=this.findChildren(u),e.exportCustomProperties?this.findOtherProperties(s,n,e.customPropertiesToIgnore):null,JSON.stringify(s)},findOtherProperties:function(e,r,n){for(var i,a=/\{\{((\s|\S)+?)\}\}((\s|\S)+?)\{\{\/\1\}\}/gm;null!==(i=a.exec(r));){var o=i[1];if(-1==n.indexOf(o)){var s=i[3].split(/(\r\n|\n|\r)/gm);s=t.cleanArray(s),e[o]=s.join("\r\n")}}},scrub:function(e,t){return e&&(e=e.replace(/\"/gm,"'"),e=e.replace(/(\r\n|\n|\r)/gm,t)),e},findChildren:function(e){for(var t,r=/\[\[(.+?)\]\]/gm,n=[];null!==(t=r.exec(e));)n.push(t[0]);return n}}}),define("app/twinejson",["FileSaver","./options","./treebuilder","./printer","./converter"],function(e,t,r,n,i){var a={output:$("#output"),outputPlain:$("#outputPlain"),storyData:$("tw-storydata"),passageData:$("tw-passagedata"),title:$("tw-storydata").attr("name")},o={convert:function(){a.storyData;console.log(a.passageData);var e=i["export"](a.passageData),o=JSON.parse(JSON.stringify(e));console.log("====== PLAIN JSON OBJECT AFTER EXPORT ======"),console.dir(e),console.log("====== END JSON OBJECT ======");var s=r.build(e);0===s.length?(n.syntaxHighlight("Stories with cyclic references aren't allowed in hierarchical JSON structures",$("#output")),$("#output").addClass("invalid")):(t.saveAsFile&&this.saveAsFile("hierarchical-"+a.title,JSON.stringify(s,null,4)),n.syntaxHighlight(JSON.stringify(s,null,4),$("#output")),$("#output").removeClass("invalid")),t.saveAsFile&&this.saveAsFile("plain-"+a.title,JSON.stringify(o,null,2)),n.syntaxHighlight(JSON.stringify(o,null,4),$("#outputPlain"))},saveAsFile:function(t,r){var n=new Blob([r],{type:"text/json;charset=utf-8"});e(n,t.replace(/[^a-z0-9]/gi,"").toLowerCase()+"-"+Math.floor(Date.now()/1e3)+".json")},isCyclic:function(e){function t(e){if(e&&"object"==typeof e){if(-1!==r.indexOf(e))return!0;r.push(e);for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return console.error(e,"Found cycle at "+n),!0}return!1}var r=[];return t(e)}};return o.convert(),o}),requirejs.config({baseUrl:"js/lib",paths:{app:"app",jquery:"//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min"}}),requirejs(["app/twinejson"]),define("index-node",function(){});</script></head><body><main class=wrapper><h2>TwineJson results<hr><h3>Hierarchical JSON output (Whole tree)</h3><pre id=output>
			</pre><h3>Plain JSON output</h3><pre id=outputPlain>
			</pre></h2></main><div id=storyData style="display: none;"><tw-storydata name="Ready Player Two" startnode="1" creator="Twine" creator-version="2.2.1" ifid="F99F551A-3C64-4060-91CB-806792FD2B1D" zoom="1" format="TwineJson" format-version="0.1.3" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">

</style><script role="script" id="twine-user-script" type="text/twine-javascript">

</script><tw-tag name="item" color="purple"></tw-tag>,<tw-tag name="room" color="blue"></tw-tag>,<tw-tag name="door" color="green"></tw-tag><tw-passagedata pid="1" name="Room-YourTrailerLivingRoom" tags="room" position="412,200" size="100,100">{{isStartingRoom}}1{{/isStartingRoom}}
{{description}}You are in the living room of your trailer in the stacks. There are several large stains in what remains of the carpet on the floor.{{/description}}
[[Item-SleepingBag]]
{{Item-SleepingBag-Location}}on the floor in the corner of the room{{/Item-SleepingBag-Location}}
[[Door-North-YourTrailerLivingRoom]]</tw-passagedata><tw-passagedata pid="2" name="Item-SleepingBag" tags="item" position="133,218" size="100,100">{{key}}sleeping bag{{/key}}
{{description}}mildly worn out sleeping bag{{/description}}</tw-passagedata><tw-passagedata pid="3" name="Room-YourTrailerPorch" tags="room" position="412,350" size="100,100">{{description}}You are standing outside on the porch of your trailer. You are ten stories up from the ground. Out from where you stand you see several other stacks across the flat dirt plain.{{/description}}
[[Door-South-TrailerPorch]]
[[Door-Down-YourTrailerPorch]]
{{onDown}}[ { 
	&quot;type&quot;: &quot;TextAction&quot;, 
	&quot;text&quot;: &quot;You climb down past the many trailers in the stack below your trailer.&quot;
} ]{{/onDown}}</tw-passagedata><tw-passagedata pid="4" name="Room-YourTrailerGround" tags="room" position="412,500" size="100,100">{{description}}You are on the ground by your stack. It&#39;s dark other than the weak makeshift lighting on the outside of the trailers of you stack and other surrounding stacks.{{/description}}
[[Door-Up-YourTrailerGround]]
{{onUp}}[ { 
	&quot;type&quot;: &quot;TextAction&quot;, 
	&quot;text&quot;: &quot;You climb up past the many trailers in the stack situated below your destination.&quot;
} ]{{/onUp}}</tw-passagedata><tw-passagedata pid="5" name="Door-North-YourTrailerLivingRoom" tags="door" position="600,207" size="100,100">{{description}}a door leading outside{{/description}}
[[Room-YourTrailerPorch]]</tw-passagedata><tw-passagedata pid="6" name="Door-South-TrailerPorch" tags="door" position="598,354" size="100,100">{{description}}a door leading inside your trailer{{/description}}
[[Room-YourTrailerLivingRoom]]</tw-passagedata><tw-passagedata pid="7" name="Door-Down-YourTrailerPorch" tags="door" position="741,351" size="100,100">{{description}}a peicemeal metal ladder leading{{/description}}
[[Room-YourTrailerGround]]</tw-passagedata><tw-passagedata pid="8" name="Door-Up-YourTrailerGround" tags="door" position="600,499" size="100,100">{{description}}a piecemeal metal ladder leading{{/description}}
[[Room-YourTrailerPorch]]</tw-passagedata></tw-storydata></div></body></html>